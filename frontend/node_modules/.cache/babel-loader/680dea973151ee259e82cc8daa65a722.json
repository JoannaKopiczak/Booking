{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\ThinkPad\\\\Desktop\\\\pwo\\\\booking1\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\ThinkPad\\\\Desktop\\\\pwo\\\\booking1\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\ThinkPad\\\\Desktop\\\\pwo\\\\booking1\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\ThinkPad\\\\Desktop\\\\pwo\\\\booking1\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\ThinkPad\\\\Desktop\\\\pwo\\\\booking1\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\ThinkPad\\\\Desktop\\\\pwo\\\\booking1\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\ThinkPad\\\\Desktop\\\\pwo\\\\booking1\\\\frontend\\\\src\\\\pages\\\\Spectacles\\\\index.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport { search, categorize, filterRating } from \"../../utils\";\nimport { SpectaclesTable, Pagination } from \"../../components\";\nimport { Input, Loading, ListGroup } from \"../../components/common\";\nimport { getSpectacles as _getSpectacles } from \"../../actions/spectaclesAction\";\nimport { getGenres as _getGenres } from \"../../actions/genreAction\";\n\nvar Spectacles = /*#__PURE__*/function (_Component) {\n  _inherits(Spectacles, _Component);\n\n  function Spectacles() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Spectacles);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Spectacles)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      genres: [],\n      pageSize: 12,\n      currentPage: 1,\n      currentGenre: \"All\",\n      searchFilter: \"\",\n      rating: 0\n    };\n\n    _this.handleChange = function (name, value) {\n      var _this$setState;\n\n      _this.setState((_this$setState = {}, _defineProperty(_this$setState, name, value), _defineProperty(_this$setState, \"currentPage\", 1), _this$setState));\n    };\n\n    _this.onPageChange = function (page) {\n      _this.setState({\n        currentPage: page\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Spectacles, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getSpectacles();\n      this.props.getGenres();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          currentGenre = _this$state.currentGenre,\n          currentPage = _this$state.currentPage,\n          searchFilter = _this$state.searchFilter,\n          pageSize = _this$state.pageSize,\n          rating = _this$state.rating;\n      var _this$props = this.props,\n          spectacles = _this$props.spectacles,\n          genres = _this$props.genres,\n          loggedIn = _this$props.loggedIn;\n\n      if (_.isEmpty(spectacles)) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"background-container pt-5\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Loading, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 11\n          }\n        }));\n      }\n\n      var filteredSpectacles = [];\n      /* Checking for searched item if nothing searched it will just set it to allSpectacles*/\n\n      filteredSpectacles = search(spectacles, searchFilter, \"title\");\n      filteredSpectacles = categorize(filteredSpectacles, currentGenre);\n      filteredSpectacles = filterRating(filteredSpectacles, rating);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"background-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mx-5 py-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-2 col-sm-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"text-muted text-left p-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }\n      }, \"Filters\"), /*#__PURE__*/React.createElement(ListGroup, {\n        active: currentGenre,\n        onChange: function onChange(val) {\n          return _this2.handleChange(\"currentGenre\", val);\n        },\n        options: genres,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Input, {\n        onChange: function onChange(val) {\n          return _this2.handleChange(\"rating\", val.target.value);\n        },\n        label: \"Rating\",\n        min: 0,\n        max: 10,\n        placeholder: \"0-10\",\n        type: \"number\",\n        iconClass: \"fas fa-star\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-10 col-sm-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        onChange: function onChange(event) {\n          return _this2.handleChange(\"searchFilter\", event.target.value);\n        },\n        label: \"Search Spectacle\",\n        iconClass: \"fas fa-search\",\n        placeholder: \"Search...\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"text-left text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 15\n        }\n      }, !!filteredSpectacles.length ? \"\".concat(filteredSpectacles.length) : \"0\", \"spectacles found.\"), !!filteredSpectacles ? /*#__PURE__*/React.createElement(SpectaclesTable, {\n        pageSize: pageSize,\n        currentPage: currentPage,\n        spectacles: filteredSpectacles,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }\n      }) : /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"text-white\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }\n      }, \"No Spectacles\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Pagination, {\n        itemsCount: filteredSpectacles.length,\n        pageSize: pageSize,\n        onPageChange: this.onPageChange,\n        currentPage: currentPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 15\n        }\n      })))));\n    }\n  }]);\n\n  return Spectacles;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    spectacles: state.spectacle.spectacles,\n    genres: state.genre.genres,\n    loggedIn: state.auth.loggedIn\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getSpectacles: function getSpectacles() {\n      return dispatch(_getSpectacles());\n    },\n    getGenres: function getGenres() {\n      return dispatch(_getGenres());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Spectacles);","map":{"version":3,"sources":["C:/Users/ThinkPad/Desktop/pwo/booking1/frontend/src/pages/Spectacles/index.js"],"names":["React","Component","connect","_","search","categorize","filterRating","SpectaclesTable","Pagination","Input","Loading","ListGroup","getSpectacles","getGenres","Spectacles","state","genres","pageSize","currentPage","currentGenre","searchFilter","rating","handleChange","name","value","setState","onPageChange","page","props","spectacles","loggedIn","isEmpty","filteredSpectacles","val","target","event","length","mapStateToProps","spectacle","genre","auth","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\n\nimport { search, categorize, filterRating } from \"../../utils\";\nimport { SpectaclesTable, Pagination } from \"../../components\";\nimport { Input, Loading, ListGroup } from \"../../components/common\";\n\nimport { getSpectacles } from \"../../actions/spectaclesAction\";\nimport { getGenres } from \"../../actions/genreAction\";\n\nclass Spectacles extends Component {\n  state = {\n    genres: [],\n    pageSize: 12,\n    currentPage: 1,\n    currentGenre: \"All\",\n    searchFilter: \"\",\n    rating: 0,\n  };\n\n  componentDidMount() {\n    this.props.getSpectacles();\n    this.props.getGenres();\n  }\n\n  handleChange = (name, value) => {\n    this.setState({ [name]: value, currentPage: 1 });\n  };\n\n  onPageChange = (page) => {\n    this.setState({ currentPage: page });\n  };\n\n  render() {\n    const {\n      currentGenre,\n      currentPage,\n      searchFilter,\n      pageSize,\n      rating,\n    } = this.state;\n\n    const { spectacles, genres, loggedIn } = this.props;\n\n    if (_.isEmpty(spectacles)) {\n      return (\n        <div className=\"background-container pt-5\">\n          <Loading />\n        </div>\n      );\n    }\n\n    let filteredSpectacles = [];\n\n    /* Checking for searched item if nothing searched it will just set it to allSpectacles*/\n    filteredSpectacles = search(spectacles, searchFilter, \"title\");\n    filteredSpectacles = categorize(filteredSpectacles, currentGenre);\n    filteredSpectacles = filterRating(filteredSpectacles, rating);\n\n    return (\n      <div className=\"background-container\">\n        <div className=\"mx-5 py-5\">\n          <div className=\"row\">\n            <div className=\"col-lg-2 col-sm-12\">\n              <h4 className=\"text-muted text-left p-1\">Filters</h4>\n              <ListGroup\n                active={currentGenre}\n                onChange={(val) => this.handleChange(\"currentGenre\", val)}\n                options={genres}\n              />\n\n              <Input\n                onChange={(val) =>\n                  this.handleChange(\"rating\", val.target.value)\n                }\n                label={\"Rating\"}\n                min={0}\n                max={10}\n                placeholder=\"0-10\"\n                type=\"number\"\n                iconClass=\"fas fa-star\"\n              />\n              {/* { loggedIn && <Link to='/spectacles/new' className='btn btn-primary btn-block my-2 text-white'> Add Spectacle </Link> } */}\n              {/* <Rating total={5} filled={rating} onChange={val => this.handleChange('rating', val)}/> */}\n            </div>\n\n            <div className=\"col-lg-10 col-sm-12\">\n              <Input\n                onChange={(event) =>\n                  this.handleChange(\"searchFilter\", event.target.value)\n                }\n                label=\"Search Spectacle\"\n                iconClass=\"fas fa-search\"\n                placeholder=\"Search...\"\n              />\n              <p className=\"text-left text-muted\">\n                {!!filteredSpectacles.length ? `${filteredSpectacles.length}` : \"0\"}\n                spectacles found.\n              </p>\n\n              {!!filteredSpectacles ? (\n                <SpectaclesTable\n                  pageSize={pageSize}\n                  currentPage={currentPage}\n                  spectacles={filteredSpectacles}\n                />\n              ) : (\n                <h1 className=\"text-white\">No Spectacles</h1>\n              )}\n              <br />\n\n              <Pagination\n                itemsCount={filteredSpectacles.length}\n                pageSize={pageSize}\n                onPageChange={this.onPageChange}\n                currentPage={currentPage}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    spectacles: state.spectacle.spectacles,\n    genres: state.genre.genres,\n    loggedIn: state.auth.loggedIn,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getSpectacles: () => dispatch(getSpectacles()),\n    getGenres: () => dispatch(getGenres()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Spectacles);\n"]},"metadata":{},"sourceType":"module"}